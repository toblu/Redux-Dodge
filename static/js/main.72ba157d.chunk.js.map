{"version":3,"sources":["fonts/ARCADECLASSIC.woff","actions/gameActions.js","reducers/gameReducer.js","actions/playerActions.js","reducers/playerReducer.js","actions/enemiesActions.js","reducers/enemiesReducer.js","reducers/rootReducer.js","selectors/gameSelectors.js","selectors/playerSelectors.js","sagas/playerSaga.js","selectors/enemySelectors.js","sagas/enemiesSaga.js","sagas/collisionSaga.js","sagas/gameSaga.js","configureStore.js","components/Cube/Cube.js","components/Player/Player.js","components/Enemies/Enemy.js","components/Enemies/Enemies.js","components/GameOverlay/GameOverlay.js","components/Board/Board.js","components/ScoreCard/ScoreCard.js","components/GameInfo/GameInfo.js","App.js","index.js"],"names":["module","exports","startGame","createAction","pauseGame","gameOver","setPoints","setHighscore","resetGame","initialState","points","highscore","window","localStorage","getItem","status","createReducer","state","action","payload","setItem","playerMove","pos","x","y","addEnemy","removeEnemy","moveEnemy","setEnemyInterval","list","interval","push","id","direction","filter","enemy","combineReducers","game","gameReducer","player","playerReducer","enemies","enemiesReducer","getCurrentPoints","getHighscore","getGameStatus","isGameStarted","createSelector","isGameActive","isGamePaused","isGameOver","getPlayerPos","handlePlayer","playerInteractionChannel","startingPos","eventChannel","emitter","keyboardListener","e","prevPos","code","END","document","addEventListener","removeEventListener","select","playerPos","call","interactionChannel","take","put","getInterval","getEnemies","getEnemy","getEnemyPos","getAllEnemyPositions","map","getEnemyIds","enemySaga","enemyInterval","handleEnemies","enemiesSaga","enemyMoveChannel","iv","setInterval","STEP","clearInterval","generateRandomStartingPos","Math","round","random","uuid","enemyChannel","delay","length","fork","all","detectCollision","collisionSaga","hasCollided","enemyPositions","reduce","x1","y1","x2","y2","abs","isCollision","scoreSaga","gameSaga","score","playerSaga","playerTask","enemiesTask","collisionTask","pointsTask","cancel","Cube","type","className","style","left","top","React","memo","connect","ownProps","enemyIds","key","GameOverlay","children","mapDispatchToProps","gameActions","gameSelectors","onClick","GameInfo","store","sagaMiddleware","createSagaMiddleware","configureStore","reducer","rootReducer","middleware","getDefaultMiddleware","devTools","run","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.72ba157d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/ARCADECLASSIC.5a1a4516.woff\";","import { createAction } from \"@reduxjs/toolkit\";\n\nexport const GAME_START = \"game/START\";\nexport const startGame = createAction(GAME_START);\n\nexport const GAME_PAUSE = \"game/PAUSE\";\nexport const pauseGame = createAction(GAME_PAUSE);\n\nexport const GAME_OVER = \"game/GAME_OVER\";\nexport const gameOver = createAction(GAME_OVER);\n\nexport const SET_POINTS = \"game/POINTS\";\nexport const setPoints = createAction(SET_POINTS);\n\nexport const SET_HIGHSCORE = \"game/SET_HIGHSCORE\";\nexport const setHighscore = createAction(SET_HIGHSCORE);\n\nexport const RESET_GAME = \"game/RESET\";\nexport const resetGame = createAction(RESET_GAME);\n","import { createReducer } from \"@reduxjs/toolkit\";\nimport {\n  startGame,\n  pauseGame,\n  gameOver,\n  setPoints,\n  setHighscore,\n  resetGame\n} from \"../actions/gameActions\";\n\nconst initialState = {\n  points: 0,\n  highscore: window.localStorage.getItem(\"highscore\") || 0,\n  status: \"NOT_STARTED\"\n};\n\nexport default createReducer(initialState, {\n  [startGame]: state => ({\n    ...state,\n    status: \"GAME_ACTIVE\"\n  }),\n\n  [pauseGame]: state => ({\n    ...state,\n    status: \"GAME_PAUSED\"\n  }),\n\n  [gameOver]: state => ({\n    ...state,\n    status: \"GAME_OVER\"\n  }),\n\n  [setPoints]: (state, action) => ({\n    ...state,\n    points: action.payload\n  }),\n\n  [setHighscore]: (state, action) => {\n    window.localStorage.setItem(\"highscore\", action.payload);\n    return {\n      ...state,\n      highscore: action.payload\n    };\n  },\n\n  [resetGame]: state => ({ ...initialState, highscore: state.highscore })\n});\n","import { createAction } from \"@reduxjs/toolkit\";\n\nexport const PLAYER_MOVE = \"player/MOVE\";\nexport const playerMove = createAction(PLAYER_MOVE);\n","import { createReducer } from \"@reduxjs/toolkit\";\nimport { playerMove } from \"../actions/playerActions\";\nimport { resetGame } from \"../actions/gameActions\";\n\nconst initialState = {\n  pos: {\n    x: 280,\n    y: 280\n  }\n};\n\nexport default createReducer(initialState, {\n  [playerMove]: (state, action) => ({\n    ...state,\n    pos: {\n      x: action.payload.x,\n      y: action.payload.y\n    }\n  }),\n  [resetGame]: () => initialState\n});\n","import { createAction } from \"@reduxjs/toolkit\";\n\nexport const ADD_ENEMY = \"enemies/ADD\";\nexport const addEnemy = createAction(ADD_ENEMY);\n\nexport const REMOVE_ENEMY = \"enemies/REMOVE\";\nexport const removeEnemy = createAction(REMOVE_ENEMY);\n\nexport const MOVE_ENEMY = \"enemies/MOVE_ENEMY\";\nexport const moveEnemy = createAction(MOVE_ENEMY);\n\nexport const SET_INTERVAL = \"enemies/SET_INTERVAL\";\nexport const setEnemyInterval = createAction(SET_INTERVAL);\n","import { createReducer } from \"@reduxjs/toolkit\";\nimport {\n  addEnemy,\n  moveEnemy,\n  removeEnemy,\n  setEnemyInterval\n} from \"../actions/enemiesActions\";\nimport { resetGame } from \"../actions/gameActions\";\n\nconst initialState = {\n  list: [],\n  interval: 1000\n};\n\nexport default createReducer(initialState, {\n  [addEnemy]: (state, action) => {\n    state.list.push({\n      id: action.payload.id,\n      direction: action.payload.direction,\n      pos: { x: action.payload.x, y: action.payload.y }\n    });\n  },\n\n  [removeEnemy]: (state, action) => ({\n    ...state,\n    list: state.list.filter(enemy => enemy.id !== action.payload.id)\n  }),\n\n  [moveEnemy]: (state, action) => {\n    const enemy = state.list.filter(enemy => enemy.id === action.payload.id)[0];\n    enemy.pos = {\n      x: action.payload.x,\n      y: action.payload.y\n    };\n  },\n\n  [setEnemyInterval]: (state, action) => {\n    state.interval = action.payload;\n  },\n\n  [resetGame]: () => initialState\n});\n","import { combineReducers } from \"redux\";\nimport gameReducer from \"./gameReducer\";\nimport playerReducer from \"./playerReducer\";\nimport enemiesReducer from \"./enemiesReducer\";\n\nexport default combineReducers({\n  game: gameReducer,\n  player: playerReducer,\n  enemies: enemiesReducer\n});\n","import { createSelector } from \"@reduxjs/toolkit\";\n\nexport const getCurrentPoints = state => state.game.points;\nexport const getHighscore = state => state.game.highscore;\nexport const getGameStatus = state => state.game.status;\n\nexport const isGameStarted = createSelector(\n  [getGameStatus],\n  status => status !== \"NOT_STARTED\"\n);\nexport const isGameActive = createSelector(\n  [getGameStatus],\n  status => status === \"GAME_ACTIVE\"\n);\nexport const isGamePaused = createSelector(\n  [getGameStatus],\n  status => status === \"GAME_PAUSED\"\n);\nexport const isGameOver = createSelector(\n  [getGameStatus],\n  status => status === \"GAME_OVER\"\n);\n","import { createSelector } from \"@reduxjs/toolkit\";\nexport const getPlayer = state => state.player;\nexport const getPlayerPos = createSelector([getPlayer], player => player.pos);\n","import { eventChannel, END } from \"redux-saga\";\nimport { take, call, select, put } from \"redux-saga/effects\";\nimport { pauseGame } from \"../actions/gameActions\";\nimport { playerMove } from \"../actions/playerActions\";\nimport { getPlayerPos } from \"../selectors/playerSelectors\";\nimport { isGameActive } from \"../selectors/gameSelectors\";\n\nconst STEP = 40;\n\nconst playerInteractionChannel = startingPos => {\n  const pos = { ...startingPos };\n\n  return eventChannel(emitter => {\n    const keyboardListener = e => {\n      const prevPos = { ...pos };\n\n      switch (e.code) {\n        case \"ArrowUp\":\n          if (pos.y >= 40) {\n            pos.y -= STEP;\n          }\n          break;\n        case \"ArrowRight\":\n          if (pos.x <= 520) {\n            pos.x += STEP;\n          }\n          break;\n        case \"ArrowDown\":\n          if (pos.y <= 520) {\n            pos.y += STEP;\n          }\n          break;\n        case \"ArrowLeft\":\n          if (pos.x >= 40) {\n            pos.x -= STEP;\n          }\n          break;\n        case \"Escape\":\n        case \"Space\":\n          return emitter(END);\n        default:\n          return;\n        // do nothing\n      }\n\n      if (pos.x !== prevPos.x || pos.y !== prevPos.y) {\n        // Emit new position\n        return emitter(pos);\n      }\n    };\n\n    // Subscribe to keyboard events\n    document.addEventListener(\"keydown\", keyboardListener);\n\n    // Clean-up event listener\n    return () => document.removeEventListener(\"keydown\", keyboardListener);\n  });\n};\n\nexport default function* handlePlayer() {\n  const playerPos = yield select(getPlayerPos);\n  const interactionChannel = yield call(playerInteractionChannel, playerPos);\n  try {\n    while (true) {\n      // Update the player position when user interacts with keyboard\n      const pos = yield take(interactionChannel);\n      yield put(playerMove(pos));\n    }\n  } finally {\n    const gameActive = yield select(isGameActive);\n    if (gameActive) {\n      // gameActive === true here means that END was emitted from the interaction channel (user paused the game)\n      // Dispatch pause action\n      yield put(pauseGame());\n    }\n  }\n}\n","import { createSelector } from \"@reduxjs/toolkit\";\n\nexport const getInterval = state => state.enemies.interval;\n\nexport const getEnemies = state => state.enemies.list;\n\nexport const getEnemy = (state, id) =>\n  createSelector(\n    [getEnemies],\n    enemies => enemies.filter(enemy => enemy.id === id)[0]\n  )(state);\n\nexport const getEnemyPos = createSelector([getEnemy], enemy => enemy.pos);\n\nexport const getAllEnemyPositions = createSelector([getEnemies], enemies =>\n  enemies.map(enemy => enemy.pos)\n);\n\nexport const getEnemyIds = createSelector([getEnemies], enemies =>\n  enemies.map(enemy => enemy.id)\n);\n","import uuid from \"uuid\";\nimport { eventChannel, END } from \"redux-saga\";\nimport { take, call, fork, all, select, put, delay } from \"redux-saga/effects\";\nimport {\n  addEnemy,\n  removeEnemy,\n  moveEnemy,\n  setEnemyInterval\n} from \"../actions/enemiesActions\";\nimport { getEnemies, getEnemy, getInterval } from \"../selectors/enemySelectors\";\nimport { isGameActive } from \"../selectors/gameSelectors\";\n\nconst STEP = 40;\n\nconst isOutsideOfBounds = (x, y) => x < -40 || x > 600 || y < -40 || y > 600;\n\nconst enemyMoveChannel = (startingPos, direction) => {\n  const pos = { ...startingPos };\n  return eventChannel(emitter => {\n    const iv = setInterval(() => {\n      if (isOutsideOfBounds(pos.x, pos.y)) {\n        // Enemy has moved outside of the game surface - close channel\n        emitter(END);\n      } else {\n        switch (direction) {\n          case \"U\": {\n            pos.y -= STEP / 4;\n            break;\n          }\n          case \"R\": {\n            pos.x += STEP / 4;\n            break;\n          }\n          case \"D\": {\n            pos.y += STEP / 4;\n            break;\n          }\n          case \"L\": {\n            pos.x -= STEP / 4;\n            break;\n          }\n          default:\n            break;\n        }\n        emitter(pos);\n      }\n    }, 50);\n    return () => {\n      // Unsubscribe interval\n      clearInterval(iv);\n    };\n  });\n};\n\nconst generateRandomStartingPos = () => {\n  const directions = [\"U\", \"R\", \"D\", \"L\"]; // [up, right, down, left]\n  const direction = directions[Math.round(3 * Math.random())];\n\n  switch (direction) {\n    case \"U\":\n      return {\n        x: 20 * Math.round(28 * Math.random()),\n        y: 600,\n        direction\n      };\n\n    case \"R\":\n      return {\n        x: -40,\n        y: 20 * Math.round(28 * Math.random()),\n        direction\n      };\n\n    case \"D\":\n      return {\n        x: 20 * Math.round(28 * Math.random()),\n        y: -40,\n        direction\n      };\n\n    case \"L\":\n      return {\n        x: 600,\n        y: 20 * Math.round(28 * Math.random()),\n        direction\n      };\n\n    default:\n      return {\n        x: 0,\n        y: 0\n      };\n  }\n};\n\nfunction* enemySaga(id = uuid()) {\n  if (!(yield select(getEnemy, id))) {\n    // No enemy with the given ID exists, spawn a new one\n    const { x, y, direction } = generateRandomStartingPos();\n    yield put(addEnemy({ id, x, y, direction }));\n  }\n\n  // Get the enemy pos and direction\n  const { pos, direction } = yield select(getEnemy, id);\n\n  // Create channel to handle movement\n  const enemyChannel = enemyMoveChannel(pos, direction);\n\n  try {\n    while (true) {\n      // Dispatch action each time the enemy position updates\n      const pos = yield take(enemyChannel);\n      yield put(moveEnemy({ id, x: pos.x, y: pos.y }));\n    }\n  } finally {\n    if (yield select(isGameActive)) {\n      // Remove enemy when outside of bounds\n      yield put(removeEnemy({ id }));\n    }\n  }\n}\n\nfunction* enemyInterval() {\n  while (true) {\n    const interval = yield select(getInterval);\n    yield delay(2000); // Update interval every other second\n    yield put(setEnemyInterval(interval * 0.8));\n  }\n}\n\nfunction* handleEnemies() {\n  const enemies = yield select(getEnemies);\n  if (!enemies.length) {\n    // No enemies yet, spawn new enemy\n    yield fork(enemySaga);\n  } else {\n    // Trigger enemySaga for each enemy\n    yield all(enemies.map(enemy => fork(enemySaga, enemy.id)));\n  }\n  while (true) {\n    const interval = yield select(getInterval);\n    yield delay(interval);\n    yield fork(enemySaga);\n  }\n}\n\nexport default function* enemiesSaga() {\n  yield fork(enemyInterval);\n  yield call(handleEnemies);\n}\n","import { call, select, put, delay } from \"redux-saga/effects\";\nimport { gameOver } from \"../actions/gameActions\";\nimport { getPlayerPos } from \"../selectors/playerSelectors\";\nimport { getAllEnemyPositions } from \"../selectors/enemySelectors\";\n\nconst isCollision = ({ x: x1, y: y1 }, { x: x2, y: y2 }) =>\n  Math.abs(x1 - x2) < 40 && Math.abs(y1 - y2) < 40;\n\nconst hasCollided = (playerPos, enemyPositions) =>\n  enemyPositions.reduce(\n    (hasCollided, pos) => hasCollided || isCollision(pos, playerPos),\n    false\n  );\n\nexport function* detectCollision() {\n  const playerPos = yield select(getPlayerPos);\n  const enemyPositions = yield select(getAllEnemyPositions);\n  // Check if player has collided with any of the enemies\n  const collision = hasCollided(playerPos, enemyPositions);\n  if (collision) {\n    // Dispatch game over action\n    yield put(gameOver());\n    return;\n  }\n}\n\nexport default function* collisionSaga() {\n  while (true) {\n    // Trigger detectCollision every 30ms\n    yield delay(30);\n    yield call(detectCollision);\n  }\n}\n","import { take, select, put, fork, cancel, delay } from \"redux-saga/effects\";\nimport {\n  GAME_START,\n  GAME_OVER,\n  GAME_PAUSE,\n  setPoints,\n  setHighscore\n} from \"../actions/gameActions\";\nimport { getCurrentPoints, getHighscore } from \"../selectors/gameSelectors\";\nimport playerSaga from \"./playerSaga\";\nimport enemiesSaga from \"./enemiesSaga\";\nimport collisionSaga from \"./collisionSaga\";\n\nexport function* scoreSaga() {\n  try {\n    while (true) {\n      const score = yield select(getCurrentPoints);\n      yield delay(1000);\n      // Increase score by 10\n      yield put(setPoints(score + 10));\n    }\n  } finally {\n    const score = yield select(getCurrentPoints);\n    const highscore = yield select(getHighscore);\n    if (score > highscore) {\n      // Update highscore\n      yield put(setHighscore(score));\n    }\n  }\n}\n\nexport default function* gameSaga() {\n  while (true) {\n    yield take(GAME_START);\n    // Start tasks\n    const playerTask = yield fork(playerSaga);\n    const enemiesTask = yield fork(enemiesSaga);\n    const collisionTask = yield fork(collisionSaga);\n    const pointsTask = yield fork(scoreSaga);\n\n    yield take([GAME_OVER, GAME_PAUSE]);\n    // Cancel all tasks\n    yield cancel(playerTask);\n    yield cancel(enemiesTask);\n    yield cancel(collisionTask);\n    yield cancel(pointsTask);\n  }\n}\n","import { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\nimport createSagaMiddleware from \"redux-saga\";\nimport rootReducer from \"./reducers/rootReducer\";\nimport gameSaga from \"./sagas/gameSaga\";\n\nexport default () => {\n  const sagaMiddleware = createSagaMiddleware(gameSaga);\n  const store = configureStore({\n    reducer: rootReducer,\n    middleware: [...getDefaultMiddleware(), sagaMiddleware],\n    devTools: true\n  });\n  sagaMiddleware.run(gameSaga);\n\n  return store;\n};\n","import React from \"react\";\nimport \"./Cube.css\";\n\nconst Cube = ({ pos, type }) => (\n  <div className={`cube ${type}`} style={{ left: pos.x, top: pos.y }}></div>\n);\n\nexport default Cube;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport Cube from \"../Cube\";\nimport { getPlayerPos } from \"../../selectors/playerSelectors\";\n\nconst Player = ({ pos }) => <Cube type=\"player\" pos={pos}></Cube>;\n\nconst mapStateToProps = state => ({\n  pos: getPlayerPos(state)\n});\n\nexport default React.memo(connect(mapStateToProps)(Player));\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport Cube from \"../Cube\";\nimport { getEnemyPos } from \"../../selectors/enemySelectors\";\n\nconst Enemy = ({ pos }) => <Cube type=\"enemy\" pos={pos} />;\n\nconst mapStateToProps = (state, ownProps) => ({\n  pos: getEnemyPos(state, ownProps.id)\n});\n\nexport default React.memo(connect(mapStateToProps)(Enemy));\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport Enemy from \"./Enemy\";\nimport { getEnemyIds } from \"../../selectors/enemySelectors\";\n\nconst Enemies = ({ enemyIds }) =>\n  enemyIds.map(id => <Enemy key={id} id={id}></Enemy>);\n\nconst mapStateToProps = state => ({\n  enemyIds: getEnemyIds(state)\n});\n\nexport default React.memo(connect(mapStateToProps)(Enemies));\n","import React from \"react\";\nimport \"./GameOverlay.css\";\n\nconst GameOverlay = ({ children }) => <div className=\"overlay\">{children}</div>;\n\nexport default GameOverlay;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport Player from \"../Player\";\nimport Enemies from \"../Enemies\";\nimport GameOverlay from \"../GameOverlay\";\nimport * as gameActions from \"../../actions/gameActions\";\nimport * as gameSelectors from \"../../selectors/gameSelectors\";\nimport \"./Board.css\";\n\nconst Board = ({\n  startGame,\n  resetGame,\n  isGameStarted,\n  isGameActive,\n  isGamePaused,\n  isGameOver,\n  points\n}) => {\n  const renderOverlay = () => {\n    if (!isGameStarted) {\n      return (\n        <GameOverlay>\n          <button onClick={() => startGame()}>Start game</button>\n        </GameOverlay>\n      );\n    }\n    if (isGamePaused) {\n      return (\n        <>\n          <GameOverlay>\n            <h1>GAME PAUSED</h1>\n            <button onClick={() => startGame()}>RESUME</button>\n            <button onClick={() => resetGame()}>RESTART</button>\n          </GameOverlay>\n        </>\n      );\n    }\n    if (isGameOver) {\n      return (\n        <GameOverlay>\n          <h1>GAME OVER</h1>\n          <h2>SCORE: {points}</h2>\n          <button onClick={() => resetGame()}>Play again</button>\n        </GameOverlay>\n      );\n    }\n  };\n\n  return (\n    <div className=\"board\">\n      {!isGameActive && renderOverlay()}\n      {isGameStarted && (\n        <>\n          <Player />\n          <Enemies />\n        </>\n      )}\n    </div>\n  );\n};\n\nconst mapStateToProps = state => ({\n  isGameStarted: gameSelectors.isGameStarted(state),\n  isGameActive: gameSelectors.isGameActive(state),\n  isGamePaused: gameSelectors.isGamePaused(state),\n  isGameOver: gameSelectors.isGameOver(state),\n  points: gameSelectors.getCurrentPoints(state)\n});\n\nconst mapDispatchToProps = {\n  startGame: gameActions.startGame,\n  resetGame: gameActions.resetGame\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Board);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { getCurrentPoints, getHighscore } from \"../../selectors/gameSelectors\";\nimport \"./ScoreCard.css\";\n\nconst ScoreCard = ({ score, highscore }) => (\n  <div className=\"score-card\">\n    <h3>Score: {score}</h3>\n    <h3>High Score: {highscore}</h3>\n  </div>\n);\n\nconst mapStateToProps = state => ({\n  score: getCurrentPoints(state),\n  highscore: getHighscore(state)\n});\n\nexport default connect(mapStateToProps)(ScoreCard);\n","import React from \"react\";\nimport \"./GameInfo.css\";\n\nconst GameInfo = () => (\n  <div className=\"game-info\">\n    <p>Use arrow keys to move</p>\n    <p>Press ESC / SPACE key to pause</p>\n  </div>\n);\n\nexport default GameInfo;\n","import React from \"react\";\nimport { Provider } from \"react-redux\";\nimport configureStore from \"./configureStore\";\nimport Board from \"./components/Board\";\nimport ScoreCard from \"./components/ScoreCard\";\nimport GameInfo from \"./components/GameInfo\";\nimport \"./App.css\";\n\nconst store = configureStore();\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <div className=\"App\">\n        <div>\n          <Board />\n          <GameInfo />\n        </div>\n        <ScoreCard />\n      </div>\n    </Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"./fonts/ARCADECLASSIC.woff\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}