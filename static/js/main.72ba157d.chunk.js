(this["webpackJsonpredux-dodge"]=this["webpackJsonpredux-dodge"]||[]).push([[0],{30:function(e,t,n){e.exports=n(56)},35:function(e,t,n){},36:function(e,t,n){e.exports=n.p+"static/media/ARCADECLASSIC.5a1a4516.woff"},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var r,a,c,u=n(1),s=n.n(u),o=n(16),i=n.n(o),b=(n(35),n(36),n(11)),l=n(29),f=n(5),O=n(14),m=n(10),d=n(7),j=n(8),x=Object(f.b)("game/START"),p=Object(f.b)("game/PAUSE"),E=Object(f.b)("game/GAME_OVER"),v=Object(f.b)("game/POINTS"),h=Object(f.b)("game/SET_HIGHSCORE"),y=Object(f.b)("game/RESET"),g={points:0,highscore:window.localStorage.getItem("highscore")||0,status:"NOT_STARTED"},k=Object(f.c)(g,(r={},Object(d.a)(r,x,(function(e){return Object(j.a)({},e,{status:"GAME_ACTIVE"})})),Object(d.a)(r,p,(function(e){return Object(j.a)({},e,{status:"GAME_PAUSED"})})),Object(d.a)(r,E,(function(e){return Object(j.a)({},e,{status:"GAME_OVER"})})),Object(d.a)(r,v,(function(e,t){return Object(j.a)({},e,{points:t.payload})})),Object(d.a)(r,h,(function(e,t){return window.localStorage.setItem("highscore",t.payload),Object(j.a)({},e,{highscore:t.payload})})),Object(d.a)(r,y,(function(e){return Object(j.a)({},g,{highscore:e.highscore})})),r)),w=Object(f.b)("player/MOVE"),A={pos:{x:280,y:280}},S=Object(f.c)(A,(a={},Object(d.a)(a,w,(function(e,t){return Object(j.a)({},e,{pos:{x:t.payload.x,y:t.payload.y}})})),Object(d.a)(a,y,(function(){return A})),a)),M=Object(f.b)("enemies/ADD"),G=Object(f.b)("enemies/REMOVE"),R=Object(f.b)("enemies/MOVE_ENEMY"),T=Object(f.b)("enemies/SET_INTERVAL"),C={list:[],interval:1e3},I=Object(f.c)(C,(c={},Object(d.a)(c,M,(function(e,t){e.list.push({id:t.payload.id,direction:t.payload.direction,pos:{x:t.payload.x,y:t.payload.y}})})),Object(d.a)(c,G,(function(e,t){return Object(j.a)({},e,{list:e.list.filter((function(e){return e.id!==t.payload.id}))})})),Object(d.a)(c,R,(function(e,t){e.list.filter((function(e){return e.id===t.payload.id}))[0].pos={x:t.payload.x,y:t.payload.y}})),Object(d.a)(c,T,(function(e,t){e.interval=t.payload})),Object(d.a)(c,y,(function(){return C})),c)),_=Object(m.combineReducers)({game:k,player:S,enemies:I}),D=n(6),N=n.n(D),P=n(3),U=n(23),V=function(e){return e.game.points},L=function(e){return e.game.highscore},H=function(e){return e.game.status},F=Object(U.a)([H],(function(e){return"NOT_STARTED"!==e})),J=Object(U.a)([H],(function(e){return"GAME_ACTIVE"===e})),B=Object(U.a)([H],(function(e){return"GAME_PAUSED"===e})),Y=Object(U.a)([H],(function(e){return"GAME_OVER"===e})),q=Object(U.a)([function(e){return e.player}],(function(e){return e.pos})),z=N.a.mark(Q),K=function(e){var t=Object(j.a)({},e);return Object(O.c)((function(e){var n=function(n){var r=Object(j.a)({},t);switch(n.code){case"ArrowUp":t.y>=40&&(t.y-=40);break;case"ArrowRight":t.x<=520&&(t.x+=40);break;case"ArrowDown":t.y<=520&&(t.y+=40);break;case"ArrowLeft":t.x>=40&&(t.x-=40);break;case"Escape":case"Space":return e(O.a);default:return}if(t.x!==r.x||t.y!==r.y)return e(t)};return document.addEventListener("keydown",n),function(){return document.removeEventListener("keydown",n)}}))};function Q(){var e,t,n;return N.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(P.g)(q);case 2:return e=r.sent,r.next=5,Object(P.b)(K,e);case 5:t=r.sent,r.prev=6;case 7:return r.next=10,Object(P.h)(t);case 10:return n=r.sent,r.next=13,Object(P.f)(w(n));case 13:r.next=7;break;case 15:return r.prev=15,r.next=18,Object(P.g)(J);case 18:if(!r.sent){r.next=22;break}return r.next=22,Object(P.f)(p());case 22:return r.finish(15);case 23:case"end":return r.stop()}}),z,null,[[6,,15,23]])}var W=n(28),X=n.n(W),Z=function(e){return e.enemies.interval},$=function(e){return e.enemies.list},ee=function(e,t){return Object(U.a)([$],(function(e){return e.filter((function(e){return e.id===t}))[0]}))(e)},te=Object(U.a)([ee],(function(e){return e.pos})),ne=Object(U.a)([$],(function(e){return e.map((function(e){return e.pos}))})),re=Object(U.a)([$],(function(e){return e.map((function(e){return e.id}))})),ae=N.a.mark(be),ce=N.a.mark(le),ue=N.a.mark(fe),se=N.a.mark(Oe),oe=function(e,t){var n=Object(j.a)({},e);return Object(O.c)((function(e){var r=setInterval((function(){if(r=n.x,a=n.y,r<-40||r>600||a<-40||a>600)e(O.a);else{switch(t){case"U":n.y-=10;break;case"R":n.x+=10;break;case"D":n.y+=10;break;case"L":n.x-=10}e(n)}var r,a}),50);return function(){clearInterval(r)}}))},ie=function(){var e=["U","R","D","L"][Math.round(3*Math.random())];switch(e){case"U":return{x:20*Math.round(28*Math.random()),y:600,direction:e};case"R":return{x:-40,y:20*Math.round(28*Math.random()),direction:e};case"D":return{x:20*Math.round(28*Math.random()),y:-40,direction:e};case"L":return{x:600,y:20*Math.round(28*Math.random()),direction:e};default:return{x:0,y:0}}};function be(){var e,t,n,r,a,c,u,s,o,i,b=arguments;return N.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return e=b.length>0&&void 0!==b[0]?b[0]:X()(),l.next=3,Object(P.g)(ee,e);case 3:if(l.sent){l.next=7;break}return t=ie(),n=t.x,r=t.y,a=t.direction,l.next=7,Object(P.f)(M({id:e,x:n,y:r,direction:a}));case 7:return l.next=9,Object(P.g)(ee,e);case 9:c=l.sent,u=c.pos,s=c.direction,o=oe(u,s),l.prev=13;case 14:return l.next=17,Object(P.h)(o);case 17:return i=l.sent,l.next=20,Object(P.f)(R({id:e,x:i.x,y:i.y}));case 20:l.next=14;break;case 22:return l.prev=22,l.next=25,Object(P.g)(J);case 25:if(!l.sent){l.next=28;break}return l.next=28,Object(P.f)(G({id:e}));case 28:return l.finish(22);case 29:case"end":return l.stop()}}),ae,null,[[13,,22,29]])}function le(){var e;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,Object(P.g)(Z);case 3:return e=t.sent,t.next=6,Object(P.d)(2e3);case 6:return t.next=8,Object(P.f)(T(.8*e));case 8:t.next=0;break;case 10:case"end":return t.stop()}}),ce)}function fe(){var e,t;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(P.g)($);case 2:if((e=n.sent).length){n.next=8;break}return n.next=6,Object(P.e)(be);case 6:n.next=10;break;case 8:return n.next=10,Object(P.a)(e.map((function(e){return Object(P.e)(be,e.id)})));case 10:return n.next=13,Object(P.g)(Z);case 13:return t=n.sent,n.next=16,Object(P.d)(t);case 16:return n.next=18,Object(P.e)(be);case 18:n.next=10;break;case 20:case"end":return n.stop()}}),ue)}function Oe(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.e)(le);case 2:return e.next=4,Object(P.b)(fe);case 4:case"end":return e.stop()}}),se)}var me=N.a.mark(xe),de=N.a.mark(pe),je=function(e,t){return t.reduce((function(t,n){return t||function(e,t){var n=e.x,r=e.y,a=t.x,c=t.y;return Math.abs(n-a)<40&&Math.abs(r-c)<40}(n,e)}),!1)};function xe(){var e,t;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(P.g)(q);case 2:return e=n.sent,n.next=5,Object(P.g)(ne);case 5:if(t=n.sent,!je(e,t)){n.next=11;break}return n.next=10,Object(P.f)(E());case 10:return n.abrupt("return");case 11:case"end":return n.stop()}}),me)}function pe(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(P.d)(30);case 3:return e.next=5,Object(P.b)(xe);case 5:e.next=0;break;case 7:case"end":return e.stop()}}),de)}var Ee=N.a.mark(he),ve=N.a.mark(ye);function he(){var e,t,n;return N.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.prev=0;case 1:return r.next=4,Object(P.g)(V);case 4:return e=r.sent,r.next=7,Object(P.d)(1e3);case 7:return r.next=9,Object(P.f)(v(e+10));case 9:r.next=1;break;case 11:return r.prev=11,r.next=14,Object(P.g)(V);case 14:return t=r.sent,r.next=17,Object(P.g)(L);case 17:if(n=r.sent,!(t>n)){r.next=21;break}return r.next=21,Object(P.f)(h(t));case 21:return r.finish(11);case 22:case"end":return r.stop()}}),Ee,null,[[0,,11,22]])}function ye(){var e,t,n,r;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,Object(P.h)("game/START");case 3:return a.next=5,Object(P.e)(Q);case 5:return e=a.sent,a.next=8,Object(P.e)(Oe);case 8:return t=a.sent,a.next=11,Object(P.e)(pe);case 11:return n=a.sent,a.next=14,Object(P.e)(he);case 14:return r=a.sent,a.next=17,Object(P.h)(["game/GAME_OVER","game/PAUSE"]);case 17:return a.next=19,Object(P.c)(e);case 19:return a.next=21,Object(P.c)(t);case 21:return a.next=23,Object(P.c)(n);case 23:return a.next=25,Object(P.c)(r);case 25:a.next=0;break;case 27:case"end":return a.stop()}}),ve)}n(50);var ge=function(e){var t=e.pos,n=e.type;return s.a.createElement("div",{className:"cube ".concat(n),style:{left:t.x,top:t.y}})},ke=s.a.memo(Object(b.b)((function(e){return{pos:q(e)}}))((function(e){var t=e.pos;return s.a.createElement(ge,{type:"player",pos:t})}))),we=s.a.memo(Object(b.b)((function(e,t){return{pos:te(e,t.id)}}))((function(e){var t=e.pos;return s.a.createElement(ge,{type:"enemy",pos:t})}))),Ae=s.a.memo(Object(b.b)((function(e){return{enemyIds:re(e)}}))((function(e){return e.enemyIds.map((function(e){return s.a.createElement(we,{key:e,id:e})}))}))),Se=(n(51),function(e){var t=e.children;return s.a.createElement("div",{className:"overlay"},t)}),Me=(n(52),{startGame:x,resetGame:y}),Ge=Object(b.b)((function(e){return{isGameStarted:F(e),isGameActive:J(e),isGamePaused:B(e),isGameOver:Y(e),points:V(e)}}),Me)((function(e){var t=e.startGame,n=e.resetGame,r=e.isGameStarted,a=e.isGameActive,c=e.isGamePaused,u=e.isGameOver,o=e.points;return s.a.createElement("div",{className:"board"},!a&&(r?c?s.a.createElement(s.a.Fragment,null,s.a.createElement(Se,null,s.a.createElement("h1",null,"GAME PAUSED"),s.a.createElement("button",{onClick:function(){return t()}},"RESUME"),s.a.createElement("button",{onClick:function(){return n()}},"RESTART"))):u?s.a.createElement(Se,null,s.a.createElement("h1",null,"GAME OVER"),s.a.createElement("h2",null,"SCORE: ",o),s.a.createElement("button",{onClick:function(){return n()}},"Play again")):void 0:s.a.createElement(Se,null,s.a.createElement("button",{onClick:function(){return t()}},"Start game"))),r&&s.a.createElement(s.a.Fragment,null,s.a.createElement(ke,null),s.a.createElement(Ae,null)))})),Re=(n(53),Object(b.b)((function(e){return{score:V(e),highscore:L(e)}}))((function(e){var t=e.score,n=e.highscore;return s.a.createElement("div",{className:"score-card"},s.a.createElement("h3",null,"Score: ",t),s.a.createElement("h3",null,"High Score: ",n))}))),Te=(n(54),function(){return s.a.createElement("div",{className:"game-info"},s.a.createElement("p",null,"Use arrow keys to move"),s.a.createElement("p",null,"Press ESC / SPACE key to pause"))}),Ce=(n(55),function(){var e=Object(O.b)(ye),t=Object(f.a)({reducer:_,middleware:[].concat(Object(l.a)(Object(f.d)()),[e]),devTools:!0});return e.run(ye),t}());var Ie=function(){return s.a.createElement(b.a,{store:Ce},s.a.createElement("div",{className:"App"},s.a.createElement("div",null,s.a.createElement(Ge,null),s.a.createElement(Te,null)),s.a.createElement(Re,null)))};i.a.render(s.a.createElement(Ie,null),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.72ba157d.chunk.js.map