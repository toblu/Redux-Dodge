{"version":3,"sources":["fonts/ARCADECLASSIC.woff","actions/gameActions.js","reducers/gameReducer.js","actions/playerActions.js","reducers/playerReducer.js","actions/enemiesActions.js","reducers/enemiesReducer.js","reducers/rootReducer.js","selectors/gameSelectors.js","selectors/playerSelectors.js","sagas/playerSaga.js","selectors/enemySelectors.js","sagas/enemiesSaga.js","sagas/collisionSaga.js","sagas/gameSaga.js","configureStore.js","components/Cube/Cube.js","components/GameOverlay/GameOverlay.js","components/Board/Board.js","components/ScoreCard/ScoreCard.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","startGame","createAction","pauseGame","gameOver","setPoints","setHighscore","resetGame","initialState","points","highscore","window","localStorage","getItem","status","createReducer","state","action","payload","setItem","playerMove","pos","x","y","addEnemy","removeEnemy","moveEnemy","setEnemyInterval","list","interval","push","id","direction","filter","enemy","combineReducers","game","gameReducer","player","playerReducer","enemies","enemiesReducer","getCurrentPoints","getHighscore","getGameStatus","isGameStarted","isGameActive","isGamePaused","isGameOver","getPlayer","getPlayerPos","handlePlayer","playerInteractionChannel","startingPos","eventChannel","emitter","keyboardListener","e","prevPos","code","END","document","addEventListener","removeEventListener","select","playerPos","call","interactionChannel","take","put","getEnemies","getAllEnemyPositions","map","getEnemy","getInterval","enemySaga","handleEnemies","enemyMoveChannel","iv","setInterval","STEP","clearInterval","generateRandomStartingPos","Math","round","random","uuid","enemyChannel","length","fork","all","count","delay","detectCollision","collisionSaga","hasCollided","enemyPositions","reduce","x1","y1","x2","y2","abs","isCollision","takeEvery","scoreSaga","gameSaga","score","playerSaga","playerTask","enemiesSaga","enemiesTask","collisionTask","pointsTask","cancel","React","memo","type","className","style","left","top","GameOverlay","children","mapDispatchToProps","gameActions","connect","gameSelectors","playerSelectors","enemySelectors","onClick","key","store","sagaMiddleware","createSagaMiddleware","configureStore","reducer","rootReducer","middleware","getDefaultMiddleware","devTools","run","App","Boolean","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.bd606d41.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/ARCADECLASSIC.5a1a4516.woff\";","import { createAction } from \"@reduxjs/toolkit\";\n\nexport const GAME_START = \"game/START\";\nexport const startGame = createAction(GAME_START);\n\nexport const GAME_PAUSE = \"game/PAUSE\";\nexport const pauseGame = createAction(GAME_PAUSE);\n\nexport const GAME_OVER = \"game/GAME_OVER\";\nexport const gameOver = createAction(GAME_OVER);\n\nexport const SET_POINTS = \"game/POINTS\";\nexport const setPoints = createAction(SET_POINTS);\n\nexport const SET_HIGHSCORE = \"game/SET_HIGHSCORE\";\nexport const setHighscore = createAction(SET_HIGHSCORE);\n\nexport const RESET_GAME = \"game/RESET\";\nexport const resetGame = createAction(RESET_GAME);\n","import { createReducer } from \"@reduxjs/toolkit\";\nimport {\n  startGame,\n  pauseGame,\n  gameOver,\n  setPoints,\n  setHighscore,\n  resetGame\n} from \"../actions/gameActions\";\n\nconst initialState = {\n  points: 0,\n  highscore: window.localStorage.getItem(\"highscore\") || 0,\n  status: \"NOT_STARTED\"\n};\n\nexport default createReducer(initialState, {\n  [startGame]: state => ({\n    ...state,\n    status: \"GAME_ACTIVE\"\n  }),\n\n  [pauseGame]: state => ({\n    ...state,\n    status: \"GAME_PAUSED\"\n  }),\n\n  [gameOver]: state => ({\n    ...state,\n    status: \"GAME_OVER\"\n  }),\n\n  [setPoints]: (state, action) => ({\n    ...state,\n    points: action.payload\n  }),\n\n  [setHighscore]: (state, action) => {\n    window.localStorage.setItem(\"highscore\", action.payload);\n    return {\n      ...state,\n      highscore: action.payload\n    };\n  },\n\n  [resetGame]: state => ({ ...initialState, highscore: state.highscore })\n});\n","import { createAction } from \"@reduxjs/toolkit\";\n\nexport const PLAYER_MOVE = \"player/MOVE\";\nexport const playerMove = createAction(PLAYER_MOVE);\n","import { createReducer } from \"@reduxjs/toolkit\";\nimport { playerMove } from \"../actions/playerActions\";\nimport { resetGame } from \"../actions/gameActions\";\n\nconst initialState = {\n  pos: {\n    x: 280,\n    y: 280\n  }\n};\n\nexport default createReducer(initialState, {\n  [playerMove]: (state, action) => ({\n    ...state,\n    pos: {\n      x: action.payload.x,\n      y: action.payload.y\n    }\n  }),\n  [resetGame]: () => initialState\n});\n","import { createAction } from \"@reduxjs/toolkit\";\n\nexport const ADD_ENEMY = \"enemies/ADD\";\nexport const addEnemy = createAction(ADD_ENEMY);\n\nexport const REMOVE_ENEMY = \"enemies/REMOVE\";\nexport const removeEnemy = createAction(REMOVE_ENEMY);\n\nexport const MOVE_ENEMY = \"enemies/MOVE_ENEMY\";\nexport const moveEnemy = createAction(MOVE_ENEMY);\n\nexport const SET_INTERVAL = \"enemies/SET_INTERVAL\";\nexport const setEnemyInterval = createAction(SET_INTERVAL);\n","import { createReducer } from \"@reduxjs/toolkit\";\nimport {\n  addEnemy,\n  moveEnemy,\n  removeEnemy,\n  setEnemyInterval\n} from \"../actions/enemiesActions\";\nimport { resetGame } from \"../actions/gameActions\";\n\nconst initialState = {\n  list: [],\n  interval: 500\n};\n\nexport default createReducer(initialState, {\n  [addEnemy]: (state, action) => {\n    state.list.push({\n      id: action.payload.id,\n      direction: action.payload.direction,\n      pos: { x: action.payload.x, y: action.payload.y }\n    });\n  },\n\n  [removeEnemy]: (state, action) => ({\n    ...state,\n    list: state.list.filter(enemy => enemy.id !== action.payload.id)\n  }),\n\n  [moveEnemy]: (state, action) => {\n    const enemy = state.list.filter(enemy => enemy.id === action.payload.id)[0];\n    enemy.pos = {\n      x: action.payload.x,\n      y: action.payload.y\n    };\n  },\n\n  [setEnemyInterval]: (state, action) => {\n    state.interval = action.payload;\n  },\n\n  [resetGame]: () => initialState\n});\n","import { combineReducers } from \"redux\";\nimport gameReducer from \"./gameReducer\";\nimport playerReducer from \"./playerReducer\";\nimport enemiesReducer from \"./enemiesReducer\";\n\nexport default combineReducers({\n  game: gameReducer,\n  player: playerReducer,\n  enemies: enemiesReducer\n});\n","export const getCurrentPoints = state => state.game.points;\nexport const getHighscore = state => state.game.highscore;\n\nexport const getGameStatus = state => state.game.status;\nexport const isGameStarted = state => getGameStatus(state) !== \"NOT_STARTED\";\nexport const isGameActive = state => getGameStatus(state) === \"GAME_ACTIVE\";\nexport const isGamePaused = state => getGameStatus(state) === \"GAME_PAUSED\";\nexport const isGameOver = state => getGameStatus(state) === \"GAME_OVER\";\n","export const getPlayer = state => state.player;\nexport const getPlayerPos = state => state.player.pos;\nexport const getPlayerPosX = state => getPlayerPos(state).x;\nexport const getPlayerPosY = state => getPlayerPos(state).y;\n","import { eventChannel, END } from \"redux-saga\";\nimport { take, call, select, put } from \"redux-saga/effects\";\nimport { pauseGame } from \"../actions/gameActions\";\nimport { playerMove } from \"../actions/playerActions\";\nimport { getPlayerPos } from \"../selectors/playerSelectors\";\nimport { isGameActive } from \"../selectors/gameSelectors\";\n\nconst STEP = 40;\n\nconst playerInteractionChannel = startingPos => {\n  const pos = { ...startingPos };\n\n  return eventChannel(emitter => {\n    const keyboardListener = e => {\n      const prevPos = { ...pos };\n\n      switch (e.code) {\n        case \"ArrowUp\":\n          if (pos.y >= 40) {\n            pos.y -= STEP;\n          }\n          break;\n        case \"ArrowRight\":\n          if (pos.x <= 520) {\n            pos.x += STEP;\n          }\n          break;\n        case \"ArrowDown\":\n          if (pos.y <= 520) {\n            pos.y += STEP;\n          }\n          break;\n        case \"ArrowLeft\":\n          if (pos.x >= 40) {\n            pos.x -= STEP;\n          }\n          break;\n        case \"Escape\":\n        case \"Space\":\n          return emitter(END);\n        default:\n          return;\n        // do nothing\n      }\n\n      if (pos.x !== prevPos.x || pos.y !== prevPos.y) {\n        // Emit new position\n        return emitter(pos);\n      }\n    };\n\n    // Subscribe to keyboard events\n    document.addEventListener(\"keydown\", keyboardListener);\n\n    // Clean-up event listener\n    return () => document.removeEventListener(\"keydown\", keyboardListener);\n  });\n};\n\nexport default function* handlePlayer() {\n  const playerPos = yield select(getPlayerPos);\n  const interactionChannel = yield call(playerInteractionChannel, playerPos);\n  try {\n    while (true) {\n      // Update the player position when user interacts with keyboard\n      const pos = yield take(interactionChannel);\n      yield put(playerMove(pos));\n    }\n  } finally {\n    const gameActive = yield select(isGameActive);\n    if (gameActive) {\n      // gameActive === true here means that END was emitted from the interaction channel (user paused the game)\n      // Dispatch pause action\n      yield put(pauseGame());\n    }\n  }\n}\n","export const getEnemies = state => state.enemies.list;\n\nexport const getAllEnemyPositions = state =>\n  state.enemies.list.map(enemy => enemy.pos);\n\nexport const getEnemy = (state, id) =>\n  getEnemies(state).filter(enemy => enemy.id === id)[0];\n\nexport const getEnemyPos = (state, id) => getEnemy(state, id)?.pos;\n\nexport const getEnemyPosX = (state, id) => getEnemyPos(state, id)?.x || -1;\n\nexport const getEnemyPosY = (state, id) => getEnemyPos(state, id)?.y || -1;\n\nexport const getEnemyDirection = (state, id) => getEnemy(state, id)?.direction;\n\nexport const getInterval = state => state.enemies.interval;\n","import uuid from \"uuid\";\nimport { eventChannel, END } from \"redux-saga\";\nimport { take, fork, all, select, put, delay } from \"redux-saga/effects\";\nimport {\n  addEnemy,\n  removeEnemy,\n  moveEnemy,\n  setEnemyInterval\n} from \"../actions/enemiesActions\";\nimport { getEnemies, getEnemy, getInterval } from \"../selectors/enemySelectors\";\nimport { isGameActive } from \"../selectors/gameSelectors\";\n\nconst STEP = 40;\n\nconst isOutsideOfBounds = (x, y) => x < -40 || x > 600 || y < -40 || y > 600;\n\nconst enemyMoveChannel = (startingPos, direction) => {\n  const pos = { ...startingPos };\n  return eventChannel(emitter => {\n    const iv = setInterval(() => {\n      if (isOutsideOfBounds(pos.x, pos.y)) {\n        // Enemy has moved outside of the game surface - close channel\n        emitter(END);\n      } else {\n        switch (direction) {\n          case \"U\": {\n            pos.y -= STEP / 4;\n            break;\n          }\n          case \"R\": {\n            pos.x += STEP / 4;\n            break;\n          }\n          case \"D\": {\n            pos.y += STEP / 4;\n            break;\n          }\n          case \"L\": {\n            pos.x -= STEP / 4;\n            break;\n          }\n          default:\n            break;\n        }\n        emitter(pos);\n      }\n    }, 50);\n    return () => {\n      // Unsubscribe interval\n      clearInterval(iv);\n    };\n  });\n};\n\nconst generateRandomStartingPos = () => {\n  const directions = [\"U\", \"R\", \"D\", \"L\"]; // [up, right, down, left]\n  const direction = directions[Math.round(3 * Math.random())];\n\n  switch (direction) {\n    case \"U\":\n      return {\n        x: 20 * Math.round(28 * Math.random()),\n        y: 600,\n        direction\n      };\n\n    case \"R\":\n      return {\n        x: -40,\n        y: 20 * Math.round(28 * Math.random()),\n        direction\n      };\n\n    case \"D\":\n      return {\n        x: 20 * Math.round(28 * Math.random()),\n        y: -40,\n        direction\n      };\n\n    case \"L\":\n      return {\n        x: 600,\n        y: 20 * Math.round(28 * Math.random()),\n        direction\n      };\n\n    default:\n      return {\n        x: 0,\n        y: 0\n      };\n  }\n};\n\nfunction* enemySaga(id = uuid()) {\n  if (!(yield select(getEnemy, id))) {\n    // No enemy with the given ID exists, spawn a new one\n    const { x, y, direction } = generateRandomStartingPos();\n    yield put(addEnemy({ id, x, y, direction }));\n  }\n\n  // Get the enemy pos and direction\n  const { pos, direction } = yield select(getEnemy, id);\n\n  // Create channel to handle movement\n  const enemyChannel = enemyMoveChannel(pos, direction);\n\n  try {\n    while (true) {\n      // Dispatch action each time the enemy position updates\n      const pos = yield take(enemyChannel);\n      yield put(moveEnemy({ id, x: pos.x, y: pos.y }));\n    }\n  } finally {\n    if (yield select(isGameActive)) {\n      // Remove enemy when outside of bounds\n      yield put(removeEnemy({ id }));\n    }\n  }\n}\n\nexport default function* handleEnemies() {\n  const enemies = yield select(getEnemies);\n  if (!enemies.length) {\n    // No enemies yet, spawn new enemy\n    yield fork(enemySaga);\n  } else {\n    // Trigger enemySaga for each enemy\n    yield all(enemies.map(enemy => fork(enemySaga, enemy.id)));\n  }\n  let count = 0;\n  while (true) {\n    const interval = yield select(getInterval);\n    yield delay(interval);\n    yield fork(enemySaga);\n    count++;\n    if (count % 4 === 0) {\n      // Decrease interval for every fourth enemy spawned\n      yield put(setEnemyInterval(interval * 0.9));\n    }\n  }\n}\n","import { takeEvery, select, put } from \"redux-saga/effects\";\nimport { PLAYER_MOVE } from \"../actions/playerActions\";\nimport { MOVE_ENEMY } from \"../actions/enemiesActions\";\nimport { gameOver } from \"../actions/gameActions\";\nimport { getPlayerPos } from \"../selectors/playerSelectors\";\nimport { getAllEnemyPositions } from \"../selectors/enemySelectors\";\n\nconst isCollision = ({ x: x1, y: y1 }, { x: x2, y: y2 }) =>\n  Math.abs(x1 - x2) < 40 && Math.abs(y1 - y2) < 40;\n\nconst hasCollided = (playerPos, enemyPositions) =>\n  enemyPositions.reduce(\n    (hasCollided, pos) => hasCollided || isCollision(pos, playerPos),\n    false\n  );\n\nfunction* detectCollision() {\n  const playerPos = yield select(getPlayerPos);\n  const enemyPositions = yield select(getAllEnemyPositions);\n  // Check if player has collided with any of the enemies\n  const collision = hasCollided(playerPos, enemyPositions);\n  if (collision) {\n    // Dispatch game over action\n    yield put(gameOver());\n    return;\n  }\n}\n\nexport default function* collisionSaga() {\n  // Trigger detectCollision for every time player or an enemy moves\n  yield takeEvery([PLAYER_MOVE, MOVE_ENEMY], detectCollision);\n}\n","import { take, select, put, fork, cancel, delay } from \"redux-saga/effects\";\nimport {\n  GAME_START,\n  GAME_OVER,\n  GAME_PAUSE,\n  RESET_GAME,\n  setPoints,\n  setHighscore\n} from \"../actions/gameActions\";\nimport { getCurrentPoints, getHighscore } from \"../selectors/gameSelectors\";\nimport playerSaga from \"./playerSaga\";\nimport enemiesSaga from \"./enemiesSaga\";\nimport collisionSaga from \"./collisionSaga\";\n\nfunction* scoreSaga() {\n  try {\n    while (true) {\n      const score = yield select(getCurrentPoints);\n      yield delay(1000);\n      // Increase score by 10\n      yield put(setPoints(score + 10));\n    }\n  } finally {\n    const score = yield select(getCurrentPoints);\n    const highscore = yield select(getHighscore);\n    if (score > highscore) {\n      // Update highscore\n      yield put(setHighscore(score));\n    }\n  }\n}\n\nexport default function* gameSaga() {\n  while (true) {\n    yield take(GAME_START);\n    // Start tasks\n    const playerTask = yield fork(playerSaga);\n    const enemiesTask = yield fork(enemiesSaga);\n    const collisionTask = yield fork(collisionSaga);\n    const pointsTask = yield fork(scoreSaga);\n\n    yield take([GAME_OVER, GAME_PAUSE, RESET_GAME]);\n    // Cancel all tasks\n    yield cancel(playerTask);\n    yield cancel(enemiesTask);\n    yield cancel(collisionTask);\n    yield cancel(pointsTask);\n  }\n}\n","import { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\nimport createSagaMiddleware from \"redux-saga\";\nimport rootReducer from \"./reducers/rootReducer\";\nimport gameSaga from \"./sagas/gameSaga\";\n\nexport default () => {\n  const sagaMiddleware = createSagaMiddleware(gameSaga);\n  const store = configureStore({\n    reducer: rootReducer,\n    middleware: [...getDefaultMiddleware(), sagaMiddleware],\n    devTools: true\n  });\n  sagaMiddleware.run(gameSaga);\n\n  return store;\n};\n","import React from \"react\";\nimport \"./Cube.css\";\n\nconst Cube = ({ pos, type }) => (\n  <div className={`cube ${type}`} style={{ left: pos.x, top: pos.y }}></div>\n);\n\nexport default React.memo(Cube);\n","import React from \"react\";\nimport \"./GameOverlay.css\";\n\nconst GameOverlay = ({ children }) => <div className=\"overlay\">{children}</div>;\n\nexport default GameOverlay;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport Cube from \"../Cube\";\nimport GameOverlay from \"../GameOverlay\";\nimport * as gameActions from \"../../actions/gameActions\";\nimport * as gameSelectors from \"../../selectors/gameSelectors\";\nimport * as playerSelectors from \"../../selectors/playerSelectors\";\nimport * as enemySelectors from \"../../selectors/enemySelectors\";\nimport \"./Board.css\";\n\nconst Board = ({\n  startGame,\n  resetGame,\n  isGameStarted,\n  isGameActive,\n  isGamePaused,\n  isGameOver,\n  points,\n  player,\n  enemies\n}) => {\n  const renderOverlay = () => {\n    if (!isGameStarted) {\n      return (\n        <GameOverlay>\n          <button onClick={() => startGame()}>Start game</button>\n        </GameOverlay>\n      );\n    }\n    if (isGamePaused) {\n      return (\n        <>\n          <GameOverlay>\n            <h1>GAME PAUSED</h1>\n            <button onClick={() => startGame()}>RESUME</button>\n            <button onClick={() => resetGame()}>RESTART</button>\n          </GameOverlay>\n        </>\n      );\n    }\n    if (isGameOver) {\n      return (\n        <GameOverlay>\n          <h1>GAME OVER</h1>\n          <h2>SCORE: {points}</h2>\n          <button onClick={() => resetGame()}>Play again</button>\n        </GameOverlay>\n      );\n    }\n  };\n\n  return (\n    <div className=\"board\">\n      {!isGameActive && renderOverlay()}\n      {isGameStarted && <Cube type=\"player\" {...player}></Cube>}\n      {enemies.map(enemy => (\n        <Cube key={enemy.id} type=\"enemy\" {...enemy}></Cube>\n      ))}\n    </div>\n  );\n};\n\nconst mapStateToProps = state => ({\n  isGameStarted: gameSelectors.isGameStarted(state),\n  isGameActive: gameSelectors.isGameActive(state),\n  isGamePaused: gameSelectors.isGamePaused(state),\n  isGameOver: gameSelectors.isGameOver(state),\n  points: gameSelectors.getCurrentPoints(state),\n  player: playerSelectors.getPlayer(state),\n  enemies: enemySelectors.getEnemies(state)\n});\n\nconst mapDispatchToProps = {\n  startGame: gameActions.startGame,\n  resetGame: gameActions.resetGame\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Board);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { getCurrentPoints, getHighscore } from \"../../selectors/gameSelectors\";\nimport \"./ScoreCard.css\";\n\nconst ScoreCard = ({ score, highscore }) => (\n  <div className=\"score-card\">\n    <h3>Score: {score}</h3>\n    <h3>High Score: {highscore}</h3>\n  </div>\n);\n\nconst mapStateToProps = state => ({\n  score: getCurrentPoints(state),\n  highscore: getHighscore(state)\n});\n\nexport default connect(mapStateToProps)(ScoreCard);\n","import React from \"react\";\nimport { Provider } from \"react-redux\";\nimport configureStore from \"./configureStore\";\nimport Board from \"./components/Board\";\nimport ScoreCard from \"./components/ScoreCard\";\nimport \"./App.css\";\n\nconst store = configureStore();\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <div className=\"App\">\n        <Board />\n        <ScoreCard />\n      </div>\n    </Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"./fonts/ARCADECLASSIC.woff\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}