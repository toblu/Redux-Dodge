(this["webpackJsonpredux-dodge"]=this["webpackJsonpredux-dodge"]||[]).push([[0],{29:function(e,t,n){e.exports=n(55)},34:function(e,t,n){},35:function(e,t,n){e.exports=n.p+"static/media/ARCADECLASSIC.5a1a4516.woff"},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var r,a,c,u=n(1),s=n.n(u),i=n(16),o=n.n(i),l=(n(34),n(35),n(15)),b=n(28),f=n(5),m=n(13),O=n(10),d=n(6),x=n(8),j=Object(f.b)("game/START"),p=Object(f.b)("game/PAUSE"),E=Object(f.b)("game/GAME_OVER"),h=Object(f.b)("game/POINTS"),v=Object(f.b)("game/SET_HIGHSCORE"),y=Object(f.b)("game/RESET"),g={points:0,highscore:window.localStorage.getItem("highscore")||0,status:"NOT_STARTED"},k=Object(f.c)(g,(r={},Object(d.a)(r,j,(function(e){return Object(x.a)({},e,{status:"GAME_ACTIVE"})})),Object(d.a)(r,p,(function(e){return Object(x.a)({},e,{status:"GAME_PAUSED"})})),Object(d.a)(r,E,(function(e){return Object(x.a)({},e,{status:"GAME_OVER"})})),Object(d.a)(r,h,(function(e,t){return Object(x.a)({},e,{points:t.payload})})),Object(d.a)(r,v,(function(e,t){return window.localStorage.setItem("highscore",t.payload),Object(x.a)({},e,{highscore:t.payload})})),Object(d.a)(r,y,(function(e){return Object(x.a)({},g,{highscore:e.highscore})})),r)),w=Object(f.b)("player/MOVE"),A={pos:{x:280,y:280}},M=Object(f.c)(A,(a={},Object(d.a)(a,w,(function(e,t){return Object(x.a)({},e,{pos:{x:t.payload.x,y:t.payload.y}})})),Object(d.a)(a,y,(function(){return A})),a)),S=Object(f.b)("enemies/ADD"),R=Object(f.b)("enemies/REMOVE"),G=Object(f.b)("enemies/MOVE_ENEMY"),T=Object(f.b)("enemies/SET_INTERVAL"),_={list:[],interval:500},C=Object(f.c)(_,(c={},Object(d.a)(c,S,(function(e,t){e.list.push({id:t.payload.id,direction:t.payload.direction,pos:{x:t.payload.x,y:t.payload.y}})})),Object(d.a)(c,R,(function(e,t){return Object(x.a)({},e,{list:e.list.filter((function(e){return e.id!==t.payload.id}))})})),Object(d.a)(c,G,(function(e,t){e.list.filter((function(e){return e.id===t.payload.id}))[0].pos={x:t.payload.x,y:t.payload.y}})),Object(d.a)(c,T,(function(e,t){e.interval=t.payload})),Object(d.a)(c,y,(function(){return _})),c)),V=Object(O.combineReducers)({game:k,player:M,enemies:C}),D=n(7),N=n.n(D),I=n(3),P=function(e){return e.game.points},U=function(e){return e.game.highscore},L=function(e){return e.game.status},H=function(e){return"NOT_STARTED"!==L(e)},B=function(e){return"GAME_ACTIVE"===L(e)},J=function(e){return"GAME_PAUSED"===L(e)},W=function(e){return"GAME_OVER"===L(e)},Y=function(e){return e.player},F=function(e){return e.player.pos},$=N.a.mark(z),q=function(e){var t=Object(x.a)({},e);return Object(m.c)((function(e){var n=function(n){var r=Object(x.a)({},t);switch(n.code){case"ArrowUp":t.y>=40&&(t.y-=40);break;case"ArrowRight":t.x<=520&&(t.x+=40);break;case"ArrowDown":t.y<=520&&(t.y+=40);break;case"ArrowLeft":t.x>=40&&(t.x-=40);break;case"Escape":case"Space":return e(m.a);default:return}if(t.x!==r.x||t.y!==r.y)return e(t)};return document.addEventListener("keydown",n),function(){return document.removeEventListener("keydown",n)}}))};function z(){var e,t,n;return N.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(I.g)(F);case 2:return e=r.sent,r.next=5,Object(I.b)(q,e);case 5:t=r.sent,r.prev=6;case 7:return r.next=10,Object(I.h)(t);case 10:return n=r.sent,r.next=13,Object(I.f)(w(n));case 13:r.next=7;break;case 15:return r.prev=15,r.next=18,Object(I.g)(B);case 18:if(!r.sent){r.next=22;break}return r.next=22,Object(I.f)(p());case 22:return r.finish(15);case 23:case"end":return r.stop()}}),$,null,[[6,,15,23]])}var K=n(27),Q=n.n(K),X=function(e){return e.enemies.list},Z=function(e){return e.enemies.list.map((function(e){return e.pos}))},ee=function(e,t){return X(e).filter((function(e){return e.id===t}))[0]},te=function(e){return e.enemies.interval},ne=N.a.mark(ue),re=N.a.mark(se),ae=function(e,t){var n=Object(x.a)({},e);return Object(m.c)((function(e){var r=setInterval((function(){if(r=n.x,a=n.y,r<-40||r>600||a<-40||a>600)e(m.a);else{switch(t){case"U":n.y-=10;break;case"R":n.x+=10;break;case"D":n.y+=10;break;case"L":n.x-=10}e(n)}var r,a}),50);return function(){clearInterval(r)}}))},ce=function(){var e=["U","R","D","L"][Math.round(3*Math.random())];switch(e){case"U":return{x:20*Math.round(28*Math.random()),y:600,direction:e};case"R":return{x:-40,y:20*Math.round(28*Math.random()),direction:e};case"D":return{x:20*Math.round(28*Math.random()),y:-40,direction:e};case"L":return{x:600,y:20*Math.round(28*Math.random()),direction:e};default:return{x:0,y:0}}};function ue(){var e,t,n,r,a,c,u,s,i,o,l=arguments;return N.a.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:return e=l.length>0&&void 0!==l[0]?l[0]:Q()(),b.next=3,Object(I.g)(ee,e);case 3:if(b.sent){b.next=7;break}return t=ce(),n=t.x,r=t.y,a=t.direction,b.next=7,Object(I.f)(S({id:e,x:n,y:r,direction:a}));case 7:return b.next=9,Object(I.g)(ee,e);case 9:c=b.sent,u=c.pos,s=c.direction,i=ae(u,s),b.prev=13;case 14:return b.next=17,Object(I.h)(i);case 17:return o=b.sent,b.next=20,Object(I.f)(G({id:e,x:o.x,y:o.y}));case 20:b.next=14;break;case 22:return b.prev=22,b.next=25,Object(I.g)(B);case 25:if(!b.sent){b.next=28;break}return b.next=28,Object(I.f)(R({id:e}));case 28:return b.finish(22);case 29:case"end":return b.stop()}}),ne,null,[[13,,22,29]])}function se(){var e,t,n;return N.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(I.g)(X);case 2:if((e=r.sent).length){r.next=8;break}return r.next=6,Object(I.e)(ue);case 6:r.next=10;break;case 8:return r.next=10,Object(I.a)(e.map((function(e){return Object(I.e)(ue,e.id)})));case 10:t=0;case 11:return r.next=14,Object(I.g)(te);case 14:return n=r.sent,r.next=17,Object(I.d)(n);case 17:return r.next=19,Object(I.e)(ue);case 19:if(++t%4!==0){r.next=23;break}return r.next=23,Object(I.f)(T(.9*n));case 23:r.next=11;break;case 25:case"end":return r.stop()}}),re)}var ie=N.a.mark(be),oe=N.a.mark(fe),le=function(e,t){return t.reduce((function(t,n){return t||function(e,t){var n=e.x,r=e.y,a=t.x,c=t.y;return Math.abs(n-a)<40&&Math.abs(r-c)<40}(n,e)}),!1)};function be(){var e,t;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(I.g)(F);case 2:return e=n.sent,n.next=5,Object(I.g)(Z);case 5:if(t=n.sent,!le(e,t)){n.next=11;break}return n.next=10,Object(I.f)(E());case 10:return n.abrupt("return");case 11:case"end":return n.stop()}}),ie)}function fe(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.i)(["player/MOVE","enemies/MOVE_ENEMY"],be);case 2:case"end":return e.stop()}}),oe)}var me=N.a.mark(de),Oe=N.a.mark(xe);function de(){var e,t,n;return N.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.prev=0;case 1:return r.next=4,Object(I.g)(P);case 4:return e=r.sent,r.next=7,Object(I.d)(1e3);case 7:return r.next=9,Object(I.f)(h(e+10));case 9:r.next=1;break;case 11:return r.prev=11,r.next=14,Object(I.g)(P);case 14:return t=r.sent,r.next=17,Object(I.g)(U);case 17:if(n=r.sent,!(t>n)){r.next=21;break}return r.next=21,Object(I.f)(v(t));case 21:return r.finish(11);case 22:case"end":return r.stop()}}),me,null,[[0,,11,22]])}function xe(){var e,t,n,r;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,Object(I.h)("game/START");case 3:return a.next=5,Object(I.e)(z);case 5:return e=a.sent,a.next=8,Object(I.e)(se);case 8:return t=a.sent,a.next=11,Object(I.e)(fe);case 11:return n=a.sent,a.next=14,Object(I.e)(de);case 14:return r=a.sent,a.next=17,Object(I.h)(["game/GAME_OVER","game/PAUSE","game/RESET"]);case 17:return a.next=19,Object(I.c)(e);case 19:return a.next=21,Object(I.c)(t);case 21:return a.next=23,Object(I.c)(n);case 23:return a.next=25,Object(I.c)(r);case 25:a.next=0;break;case 27:case"end":return a.stop()}}),Oe)}n(49);var je=s.a.memo((function(e){var t=e.pos,n=e.type;return s.a.createElement("div",{className:"cube ".concat(n),style:{left:t.x,top:t.y}})})),pe=(n(50),function(e){var t=e.children;return s.a.createElement("div",{className:"overlay"},t)}),Ee=(n(51),{startGame:j,resetGame:y}),he=Object(l.b)((function(e){return{isGameStarted:H(e),isGameActive:B(e),isGamePaused:J(e),isGameOver:W(e),points:P(e),player:Y(e),enemies:X(e)}}),Ee)((function(e){var t=e.startGame,n=e.resetGame,r=e.isGameStarted,a=e.isGameActive,c=e.isGamePaused,u=e.isGameOver,i=e.points,o=e.player,l=e.enemies;return s.a.createElement("div",{className:"board"},!a&&(r?c?s.a.createElement(s.a.Fragment,null,s.a.createElement(pe,null,s.a.createElement("h1",null,"GAME PAUSED"),s.a.createElement("button",{onClick:function(){return t()}},"RESUME"),s.a.createElement("button",{onClick:function(){return n()}},"RESTART"))):u?s.a.createElement(pe,null,s.a.createElement("h1",null,"GAME OVER"),s.a.createElement("h2",null,"SCORE: ",i),s.a.createElement("button",{onClick:function(){return n()}},"Play again")):void 0:s.a.createElement(pe,null,s.a.createElement("button",{onClick:function(){return t()}},"Start game"))),r&&s.a.createElement(je,Object.assign({type:"player"},o)),l.map((function(e){return s.a.createElement(je,Object.assign({key:e.id,type:"enemy"},e))})))})),ve=(n(52),Object(l.b)((function(e){return{score:P(e),highscore:U(e)}}))((function(e){var t=e.score,n=e.highscore;return s.a.createElement("div",{className:"score-card"},s.a.createElement("h3",null,"Score: ",t),s.a.createElement("h3",null,"High Score: ",n))}))),ye=(n(53),function(){return s.a.createElement("div",{className:"game-info"},s.a.createElement("p",null,"Use arrow keys to move"),s.a.createElement("p",null,"Press ESC / SPACE key to pause"))}),ge=(n(54),function(){var e=Object(m.b)(xe),t=Object(f.a)({reducer:V,middleware:[].concat(Object(b.a)(Object(f.d)()),[e]),devTools:!0});return e.run(xe),t}());var ke=function(){return s.a.createElement(l.a,{store:ge},s.a.createElement("div",{className:"App"},s.a.createElement("div",null,s.a.createElement(he,null),s.a.createElement(ye,null)),s.a.createElement(ve,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(ke,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[29,1,2]]]);
//# sourceMappingURL=main.751d8280.chunk.js.map