(this["webpackJsonpredux-dodge"]=this["webpackJsonpredux-dodge"]||[]).push([[0],{30:function(e,t,n){e.exports=n(56)},35:function(e,t,n){},36:function(e,t,n){e.exports=n.p+"static/media/ARCADECLASSIC.5a1a4516.woff"},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var r,a,c,u=n(1),s=n.n(u),i=n(16),o=n.n(i),b=(n(35),n(36),n(15)),l=n(29),f=n(5),O=n(13),m=n(10),d=n(7),j=n(8),x=Object(f.b)("game/START"),p=Object(f.b)("game/PAUSE"),E=Object(f.b)("game/GAME_OVER"),v=Object(f.b)("game/POINTS"),h=Object(f.b)("game/SET_HIGHSCORE"),y=Object(f.b)("game/RESET"),g={points:0,highscore:window.localStorage.getItem("highscore")||0,status:"NOT_STARTED"},k=Object(f.c)(g,(r={},Object(d.a)(r,x,(function(e){return Object(j.a)({},e,{status:"GAME_ACTIVE"})})),Object(d.a)(r,p,(function(e){return Object(j.a)({},e,{status:"GAME_PAUSED"})})),Object(d.a)(r,E,(function(e){return Object(j.a)({},e,{status:"GAME_OVER"})})),Object(d.a)(r,v,(function(e,t){return Object(j.a)({},e,{points:t.payload})})),Object(d.a)(r,h,(function(e,t){return window.localStorage.setItem("highscore",t.payload),Object(j.a)({},e,{highscore:t.payload})})),Object(d.a)(r,y,(function(e){return Object(j.a)({},g,{highscore:e.highscore})})),r)),w=Object(f.b)("player/MOVE"),A={pos:{x:280,y:280}},M=Object(f.c)(A,(a={},Object(d.a)(a,w,(function(e,t){return Object(j.a)({},e,{pos:{x:t.payload.x,y:t.payload.y}})})),Object(d.a)(a,y,(function(){return A})),a)),S=Object(f.b)("enemies/ADD"),R=Object(f.b)("enemies/REMOVE"),G=Object(f.b)("enemies/MOVE_ENEMY"),T=Object(f.b)("enemies/SET_INTERVAL"),_={list:[],interval:1e3},C=Object(f.c)(_,(c={},Object(d.a)(c,S,(function(e,t){e.list.push({id:t.payload.id,direction:t.payload.direction,pos:{x:t.payload.x,y:t.payload.y}})})),Object(d.a)(c,R,(function(e,t){return Object(j.a)({},e,{list:e.list.filter((function(e){return e.id!==t.payload.id}))})})),Object(d.a)(c,G,(function(e,t){e.list.filter((function(e){return e.id===t.payload.id}))[0].pos={x:t.payload.x,y:t.payload.y}})),Object(d.a)(c,T,(function(e,t){e.interval=t.payload})),Object(d.a)(c,y,(function(){return _})),c)),V=Object(m.combineReducers)({game:k,player:M,enemies:C}),D=n(6),N=n.n(D),I=n(3),P=n(23),U=function(e){return e.game.points},L=function(e){return e.game.highscore},H=function(e){return e.game.status},J=Object(P.a)([H],(function(e){return"NOT_STARTED"!==e})),Y=Object(P.a)([H],(function(e){return"GAME_ACTIVE"===e})),B=Object(P.a)([H],(function(e){return"GAME_PAUSED"===e})),F=Object(P.a)([H],(function(e){return"GAME_OVER"===e})),q=function(e){return e.player},z=Object(P.a)([q],(function(e){return e.pos})),K=N.a.mark(W),Q=function(e){var t=Object(j.a)({},e);return Object(O.c)((function(e){var n=function(n){var r=Object(j.a)({},t);switch(n.code){case"ArrowUp":t.y>=40&&(t.y-=40);break;case"ArrowRight":t.x<=520&&(t.x+=40);break;case"ArrowDown":t.y<=520&&(t.y+=40);break;case"ArrowLeft":t.x>=40&&(t.x-=40);break;case"Escape":case"Space":return e(O.a);default:return}if(t.x!==r.x||t.y!==r.y)return e(t)};return document.addEventListener("keydown",n),function(){return document.removeEventListener("keydown",n)}}))};function W(){var e,t,n;return N.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(I.g)(z);case 2:return e=r.sent,r.next=5,Object(I.b)(Q,e);case 5:t=r.sent,r.prev=6;case 7:return r.next=10,Object(I.h)(t);case 10:return n=r.sent,r.next=13,Object(I.f)(w(n));case 13:r.next=7;break;case 15:return r.prev=15,r.next=18,Object(I.g)(Y);case 18:if(!r.sent){r.next=22;break}return r.next=22,Object(I.f)(p());case 22:return r.finish(15);case 23:case"end":return r.stop()}}),K,null,[[6,,15,23]])}var X=n(28),Z=n.n(X),$=function(e){return e.enemies.interval},ee=function(e){return e.enemies.list},te=function(e,t){return Object(P.a)([ee],(function(e){return e.filter((function(e){return e.id===t}))[0]}))(e)},ne=Object(P.a)([ee],(function(e){return e.map((function(e){return e.pos}))})),re=N.a.mark(oe),ae=N.a.mark(be),ce=N.a.mark(le),ue=N.a.mark(fe),se=function(e,t){var n=Object(j.a)({},e);return Object(O.c)((function(e){var r=setInterval((function(){if(r=n.x,a=n.y,r<-40||r>600||a<-40||a>600)e(O.a);else{switch(t){case"U":n.y-=10;break;case"R":n.x+=10;break;case"D":n.y+=10;break;case"L":n.x-=10}e(n)}var r,a}),50);return function(){clearInterval(r)}}))},ie=function(){var e=["U","R","D","L"][Math.round(3*Math.random())];switch(e){case"U":return{x:20*Math.round(28*Math.random()),y:600,direction:e};case"R":return{x:-40,y:20*Math.round(28*Math.random()),direction:e};case"D":return{x:20*Math.round(28*Math.random()),y:-40,direction:e};case"L":return{x:600,y:20*Math.round(28*Math.random()),direction:e};default:return{x:0,y:0}}};function oe(){var e,t,n,r,a,c,u,s,i,o,b=arguments;return N.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return e=b.length>0&&void 0!==b[0]?b[0]:Z()(),l.next=3,Object(I.g)(te,e);case 3:if(l.sent){l.next=7;break}return t=ie(),n=t.x,r=t.y,a=t.direction,l.next=7,Object(I.f)(S({id:e,x:n,y:r,direction:a}));case 7:return l.next=9,Object(I.g)(te,e);case 9:c=l.sent,u=c.pos,s=c.direction,i=se(u,s),l.prev=13;case 14:return l.next=17,Object(I.h)(i);case 17:return o=l.sent,l.next=20,Object(I.f)(G({id:e,x:o.x,y:o.y}));case 20:l.next=14;break;case 22:return l.prev=22,l.next=25,Object(I.g)(Y);case 25:if(!l.sent){l.next=28;break}return l.next=28,Object(I.f)(R({id:e}));case 28:return l.finish(22);case 29:case"end":return l.stop()}}),re,null,[[13,,22,29]])}function be(){var e;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,Object(I.g)($);case 3:return e=t.sent,t.next=6,Object(I.d)(2e3);case 6:return t.next=8,Object(I.f)(T(.8*e));case 8:t.next=0;break;case 10:case"end":return t.stop()}}),ae)}function le(){var e,t;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(I.g)(ee);case 2:if((e=n.sent).length){n.next=8;break}return n.next=6,Object(I.e)(oe);case 6:n.next=10;break;case 8:return n.next=10,Object(I.a)(e.map((function(e){return Object(I.e)(oe,e.id)})));case 10:return n.next=13,Object(I.g)($);case 13:return t=n.sent,n.next=16,Object(I.d)(t);case 16:return n.next=18,Object(I.e)(oe);case 18:n.next=10;break;case 20:case"end":return n.stop()}}),ce)}function fe(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.e)(be);case 2:return e.next=4,Object(I.b)(le);case 4:case"end":return e.stop()}}),ue)}var Oe=N.a.mark(je),me=N.a.mark(xe),de=function(e,t){return t.reduce((function(t,n){return t||function(e,t){var n=e.x,r=e.y,a=t.x,c=t.y;return Math.abs(n-a)<40&&Math.abs(r-c)<40}(n,e)}),!1)};function je(){var e,t;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(I.g)(z);case 2:return e=n.sent,n.next=5,Object(I.g)(ne);case 5:if(t=n.sent,!de(e,t)){n.next=11;break}return n.next=10,Object(I.f)(E());case 10:return n.abrupt("return");case 11:case"end":return n.stop()}}),Oe)}function xe(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.i)(["player/MOVE","enemies/MOVE_ENEMY"],je);case 2:case"end":return e.stop()}}),me)}var pe=N.a.mark(ve),Ee=N.a.mark(he);function ve(){var e,t,n;return N.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.prev=0;case 1:return r.next=4,Object(I.g)(U);case 4:return e=r.sent,r.next=7,Object(I.d)(1e3);case 7:return r.next=9,Object(I.f)(v(e+10));case 9:r.next=1;break;case 11:return r.prev=11,r.next=14,Object(I.g)(U);case 14:return t=r.sent,r.next=17,Object(I.g)(L);case 17:if(n=r.sent,!(t>n)){r.next=21;break}return r.next=21,Object(I.f)(h(t));case 21:return r.finish(11);case 22:case"end":return r.stop()}}),pe,null,[[0,,11,22]])}function he(){var e,t,n,r;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,Object(I.h)("game/START");case 3:return a.next=5,Object(I.e)(W);case 5:return e=a.sent,a.next=8,Object(I.e)(fe);case 8:return t=a.sent,a.next=11,Object(I.e)(xe);case 11:return n=a.sent,a.next=14,Object(I.e)(ve);case 14:return r=a.sent,a.next=17,Object(I.h)(["game/GAME_OVER","game/PAUSE","game/RESET"]);case 17:return a.next=19,Object(I.c)(e);case 19:return a.next=21,Object(I.c)(t);case 21:return a.next=23,Object(I.c)(n);case 23:return a.next=25,Object(I.c)(r);case 25:a.next=0;break;case 27:case"end":return a.stop()}}),Ee)}n(50);var ye=s.a.memo((function(e){var t=e.pos,n=e.type;return s.a.createElement("div",{className:"cube ".concat(n),style:{left:t.x,top:t.y}})})),ge=(n(51),function(e){var t=e.children;return s.a.createElement("div",{className:"overlay"},t)}),ke=(n(52),{startGame:x,resetGame:y}),we=Object(b.b)((function(e){return{isGameStarted:J(e),isGameActive:Y(e),isGamePaused:B(e),isGameOver:F(e),points:U(e),player:q(e),enemies:ee(e)}}),ke)((function(e){var t=e.startGame,n=e.resetGame,r=e.isGameStarted,a=e.isGameActive,c=e.isGamePaused,u=e.isGameOver,i=e.points,o=e.player,b=e.enemies;return s.a.createElement("div",{className:"board"},!a&&(r?c?s.a.createElement(s.a.Fragment,null,s.a.createElement(ge,null,s.a.createElement("h1",null,"GAME PAUSED"),s.a.createElement("button",{onClick:function(){return t()}},"RESUME"),s.a.createElement("button",{onClick:function(){return n()}},"RESTART"))):u?s.a.createElement(ge,null,s.a.createElement("h1",null,"GAME OVER"),s.a.createElement("h2",null,"SCORE: ",i),s.a.createElement("button",{onClick:function(){return n()}},"Play again")):void 0:s.a.createElement(ge,null,s.a.createElement("button",{onClick:function(){return t()}},"Start game"))),r&&s.a.createElement(ye,Object.assign({type:"player"},o)),b.map((function(e){return s.a.createElement(ye,Object.assign({key:e.id,type:"enemy"},e))})))})),Ae=(n(53),Object(b.b)((function(e){return{score:U(e),highscore:L(e)}}))((function(e){var t=e.score,n=e.highscore;return s.a.createElement("div",{className:"score-card"},s.a.createElement("h3",null,"Score: ",t),s.a.createElement("h3",null,"High Score: ",n))}))),Me=(n(54),function(){return s.a.createElement("div",{className:"game-info"},s.a.createElement("p",null,"Use arrow keys to move"),s.a.createElement("p",null,"Press ESC / SPACE key to pause"))}),Se=(n(55),function(){var e=Object(O.b)(he),t=Object(f.a)({reducer:V,middleware:[].concat(Object(l.a)(Object(f.d)()),[e]),devTools:!0});return e.run(he),t}());var Re=function(){return s.a.createElement(b.a,{store:Se},s.a.createElement("div",{className:"App"},s.a.createElement("div",null,s.a.createElement(we,null),s.a.createElement(Me,null)),s.a.createElement(Ae,null)))};o.a.render(s.a.createElement(Re,null),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.e1f512c3.chunk.js.map